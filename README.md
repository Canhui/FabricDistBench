
## 1. Workload Generator

#### 1.1. How to generate many transactions using many clients (user level)
Please see the modified file ssh.sh: https://github.com/Canhui/FabricDistBench/blob/main/fabric-samples/exp1_cpu_cores/workload/ssh.sh

#### 1.2. How to generate many transactions in a client (lower level) 
Please see the modified file invoke.js: https://github.com/Canhui/FabricDistBench/blob/main/fabric-samples/exp1_cpu_cores/workload/sdk-peer0-org1/invoke.js

#### 1.3. How to generate each transaction (lower level)
Please see the modified file transaction.js: https://github.com/Canhui/FabricDistBench/blob/main/fabric-samples/exp1_cpu_cores/workload/node_modules/fabric-network/lib/transaction.js



<br />

## 2. Numerical Results



Table 1: The throughput and latency of an endorsing peer with c=1,2,4 CPU cores in the local cluster

| $c$  | $\lambda^e$ | $\mu^e$ | $\rho^e$ | $T_s^e$ | $T_q^e$ | $T_{comm}^e$        | $T^e$               | $T^e$  |
| ---- | ----------- | ------- | -------- | ------- | ------- | ------------------- | ------------------- | ------ |
| 1    | 209         | 780     | 0.2679   | 0.0013  | 0.0008  | 0.2831 $\pm$ 0.0103 | 0.2852 $\pm$ 0.0103 | 0.3307 |
|      | 287         | 780     | 0.3679   | 0.0013  | 0.0010  | 0.4110 $\pm$ 0.0145 | 0.4133 $\pm$ 0.0145 | 0.4535 |
|      | 337         | 780     | 0.4321   | 0.0013  | 0.0011  | 0.5824 $\pm$ 0.0291 | 0.5848 $\pm$ 0.0291 | 0.5322 |
|      | 426         | 780     | 0.5462   | 0.0013  | 0.0014  | 0.7660 $\pm$ 0.0741 | 0.7687 $\pm$ 0.0741 | 0.6724 |
|      | 524         | 780     | 0.6718   | 0.0013  | 0.0020  | 0.9011 $\pm$ 0.0904 | 0.9044 $\pm$ 0.0904 | 0.8270 |
|      | 613         | 780     | 0.7859   | 0.0013  | 0.0030  | 1.0857 $\pm$ 0.1982 | 1.0900 $\pm$ 0.1982 | 0.9679 |
|      | 725         | 780     | 0.9295   | 0.0013  | 0.0091  | 1.2243 $\pm$ 0.2908 | 1.2347 $\pm$ 0.2908 | 1.1501 |
|      | 770         | 780     | 0.9872   | 0.0013  | 0.0500  | 1.0960 $\pm$ 0.2199 | 1.1473 $\pm$ 0.2199 | 1.2618 |
| 2    | 426         | 780     | 0.2731   | 0.0013  | 0.0007  | 0.2387 $\pm$ 0.0173 | 0.2407 $\pm$ 0.0173 | 0.2441 |
|      | 613         | 780     | 0.3929   | 0.0013  | 0.0008  | 0.3312 $\pm$ 0.0173 | 0.3333 $\pm$ 0.0573 | 0.3505 |
|      | 852         | 780     | 0.5462   | 0.0013  | 0.0009  | 0.4748 $\pm$ 0.0173 | 0.4770 $\pm$ 0.0928 | 0.4864 |
|      | 1095        | 780     | 0.7019   | 0.0013  | 0.0013  | 0.7329 $\pm$ 0.0173 | 0.7355 $\pm$ 0.1612 | 0.6249 |
|      | 1278        | 780     | 0.8192   | 0.0013  | 0.0020  | 0.7532 $\pm$ 0.0173 | 0.7565 $\pm$ 0.2216 | 0.7296 |
|      | 1338        | 780     | 0.8577   | 0.0013  | 0.0024  | 0.7811 $\pm$ 0.0173 | 0.7848 $\pm$ 0.2273 | 0.7641 |
|      | 1446        | 780     | 0.9269   | 0.0013  | 0.0046  | 0.8581 $\pm$ 0.0173 | 0.8640 $\pm$ 0.2406 | 0.8277 |
|      | 1478        | 780     | 0.9474   | 0.0013  | 0.0063  | 0.9433 $\pm$ 0.0173 | 0.9509 $\pm$ 0.1122 | 0.8475 |
| 4    | 426         | 780     | 0.1365   | 0.0013  | 0.0012  | 0.1762 $\pm$ 0.0143 | 0.1787 $\pm$ 0.0143 | 0.1356 |
|      | 613         | 780     | 0.1965   | 0.0013  | 0.0010  | 0.2152 $\pm$ 0.0277 | 0.2175 $\pm$ 0.0277 | 0.1938 |
|      | 852         | 780     | 0.2731   | 0.0013  | 0.0008  | 0.3166 $\pm$ 0.0323 | 0.3187 $\pm$ 0.0323 | 0.2682 |
|      | 1095        | 780     | 0.3510   | 0.0013  | 0.0008  | 0.3385 $\pm$ 0.0632 | 0.3406 $\pm$ 0.0632 | 0.3441 |
|      | 1278        | 780     | 0.4096   | 0.0013  | 0.0007  | 0.3847 $\pm$ 0.0748 | 0.3867 $\pm$ 0.0748 | 0.4012 |
|      | 1338        | 780     | 0.4288   | 0.0013  | 0.0007  | 0.4366 $\pm$ 0.1653 | 0.4386 $\pm$ 0.1653 | 0.4199 |
|      | 1446        | 780     | 0.4635   | 0.0013  | 0.0007  | 0.4129 $\pm$ 0.1778 | 0.4149 $\pm$ 0.1778 | 0.4537 |
|      | 1478        | 780     | 0.4737   | 0.0013  | 0.0007  | 0.5302 $\pm$ 0.2986 | 0.5322 $\pm$ 0.2986 | 0.4637 |





Table 2: The throughput and latency of an endorsing peer with $c=$1,2,4 CPU cores in the cloud cluster.

| $c$  | $\lambda^e$ | $\mu^e$ | $\rho^e$ | $T_s^e$ | $T_q^e$ | $T_{comm}^e$        | $T^e$               | $T^e$  |
| ---- | ----------- | ------- | -------- | ------- | ------- | ------------------- | ------------------- | ------ |
| 1    | 214         | 470     | 0.4553   | 0.0021  | 0.0020  | 0.2114 $\pm$ 0.0128 | 0.2155 $\pm$ 0.0128 | 0.2362 |
|      | 244         | 470     | 0.5191   | 0.0021  | 0.0022  | 0.2435 $\pm$ 0.0359 | 0.2478 $\pm$ 0.0359 | 0.2690 |
|      | 312         | 470     | 0.6638   | 0.0021  | 0.0032  | 0.3167 $\pm$ 0.0241 | 0.3220 $\pm$ 0.0241 | 0.3437 |
|      | 352         | 470     | 0.7489   | 0.0021  | 0.0042  | 0.4155 $\pm$ 0.0764 | 0.4218 $\pm$ 0.0764 | 0.3881 |
|      | 423         | 470     | 0.9000   | 0.0021  | 0.0106  | 0.5224 $\pm$ 0.0771 | 0.5351 $\pm$ 0.0772 | 0.4715 |
|      | 460         | 470     | 0.9787   | 0.0021  | 0.0500  | 0.5704 $\pm$ 0.0610 | 0.6225 $\pm$ 0.0610 | 0.5510 |
| 2    | 244         | 470     | 0.2596   | 0.0021  | 0.0013  | 0.0866 $\pm$ 0.0036 | 0.0900 $\pm$ 0.0036 | 0.0877 |
|      | 312         | 470     | 0.3319   | 0.0021  | 0.0013  | 0.1040 $\pm$ 0.0103 | 0.1074 $\pm$ 0.0103 | 0.1112 |
|      | 352         | 470     | 0.3745   | 0.0021  | 0.0013  | 0.1266 $\pm$ 0.0125 | 0.1300 $\pm$ 0.0125 | 0.1250 |
|      | 423         | 470     | 0.4500   | 0.0021  | 0.0014  | 0.1651 $\pm$ 0.0085 | 0.1686 $\pm$ 0.0085 | 0.1497 |
|      | 460         | 470     | 0.4894   | 0.0021  | 0.0015  | 0.1697 $\pm$ 0.0180 | 0.1733 $\pm$ 0.0180 | 0.1625 |
|      | 566         | 470     | 0.6021   | 0.0021  | 0.0017  | 0.1897 $\pm$ 0.0160 | 0.1935 $\pm$ 0.0160 | 0.1994 |
|      | 670         | 470     | 0.7128   | 0.0021  | 0.0022  | 0.2032 $\pm$ 0.0136 | 0.2075 $\pm$ 0.0136 | 0.2358 |
| 4    | 244         | 470     | 0.1298   | 0.0021  | 0.0020  | 0.0665 $\pm$ 0.0020 | 0.0706 $\pm$ 0.0019 | 0.0536 |
|      | 312         | 470     | 0.1660   | 0.0021  | 0.0018  | 0.0735 $\pm$ 0.0045 | 0.0774 $\pm$ 0.0045 | 0.0672 |
|      | 352         | 470     | 0.1872   | 0.0021  | 0.0017  | 0.0749 $\pm$ 0.0040 | 0.0788 $\pm$ 0.0040 | 0.0752 |
|      | 423         | 470     | 0.2250   | 0.0021  | 0.0016  | 0.0780 $\pm$ 0.0038 | 0.0817 $\pm$ 0.0038 | 0.0895 |
|      | 460         | 470     | 0.2447   | 0.0021  | 0.0015  | 0.0907 $\pm$ 0.0060 | 0.0943 $\pm$ 0.0060 | 0.0969 |
|      | 566         | 470     | 0.3011   | 0.0021  | 0.0014  | 0.1051 $\pm$ 0.0030 | 0.1086 $\pm$ 0.0030 | 0.1183 |
|      | 670         | 470     | 0.3564   | 0.0021  | 0.0014  | 0.1128 $\pm$ 0.0090 | 0.1163 $\pm$ 0.0090 | 0.1394 |



Table 3: The effects of OSNs on the throughput and latency in the order phase. There are $k=$3,9,15 OSNs in a local cluster of 1 Gbit/s Ethereum network. The BatchSize is 20 and the BatchTimeout is 1.

| $k$  | $\lambda^r$ | $\mu^r$ | $\rho^r$ | $T_s^r$ | $T_{idle}^r$ | $T_{c2l}^r$         | $T_{l2f}^r$         | $T_q^r$             | $T^r$               | $T^r$  |
| ---- | ----------- | ------- | -------- | ------- | ------------ | ------------------- | ------------------- | ------------------- | ------------------- | ------ |
| 3    | 70          | 190     | 0.3684   | 0.0053  | 0.1429       | 0.0403 $\pm$ 0.0061 | 0.1924 $\pm$ 0.1082 | 0.0009 $\pm$ 0.0008 | 0.3817 $\pm$ 0.1051 | 0.3582 |
|      | 109         | 190     | 0.5737   | 0.0053  | 0.0917       | 0.0521 $\pm$ 0.0080 | 0.2829 $\pm$ 0.0705 | 0.0011 $\pm$ 0.0010 | 0.4332 $\pm$ 0.0792 | 0.4239 |
|      | 180         | 190     | 0.9474   | 0.0053  | 0.0556       | 0.0557 $\pm$ 0.0160 | 0.5703 $\pm$ 0.1246 | 0.0015 $\pm$ 0.0013 | 0.6884 $\pm$ 0.1411 | 0.6002 |
| 9    | 70          | 190     | 0.3684   | 0.0053  | 0.1429       | 0.0422 $\pm$ 0.0061 | 0.2399 $\pm$ 0.0628 | 0.0001 $\pm$ 0.0000 | 0.4303 $\pm$ 0.0636 | 0.4248 |
|      | 109         | 190     | 0.5737   | 0.0053  | 0.0917       | 0.0466 $\pm$ 0.0047 | 0.3835 $\pm$ 0.1053 | 0.0007 $\pm$ 0.0004 | 0.5279 $\pm$ 0.1083 | 0.5284 |
|      | 180         | 190     | 0.9474   | 0.0053  | 0.0556       | 0.0417 $\pm$ 0.0050 | 0.8332 $\pm$ 0.1476 | 0.0139 $\pm$ 0.0131 | 0.9496 $\pm$ 0.1345 | 0.7860 |
| 15   | 70          | 190     | 0.3684   | 0.0053  | 0.1429       | 0.0522 $\pm$ 0.0163 | 0.2190 $\pm$ 0.0582 | 0.0006 $\pm$ 0.0006 | 0.4199 $\pm$ 0.0466 | 0.3916 |
|      | 109         | 190     | 0.5737   | 0.0053  | 0.0917       | 0.0549 $\pm$ 0.0136 | 0.2735 $\pm$ 0.0478 | 0.0011 $\pm$ 0.0011 | 0.4264 $\pm$ 0.0589 | 0.4763 |
|      | 180         | 190     | 0.9474   | 0.0053  | 0.0556       | 0.0532 $\pm$ 0.0136 | 0.7816 $\pm$ 0.1740 | 0.0134 $\pm$ 0.0155 | 0.9091 $\pm$ 0.1467 | 0.6988 |

